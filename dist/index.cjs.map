{"version":3,"sources":["../src/index.ts","../src/debounce.ts","../src/throttle.ts"],"sourcesContent":["export { debounce } from './debounce';\r\nexport { throttle } from './throttle';","export function debounce(func: Function, delay: number, immediate: boolean = false) {\r\n    let debounceTimer: ReturnType<typeof setTimeout> | null;\r\n\r\n    return function (this: unknown, ...args: any[]) {\r\n        const context = this;\r\n\r\n        if (debounceTimer) {\r\n            clearTimeout(debounceTimer);\r\n        }\r\n\r\n        const callNow = immediate && !debounceTimer;\r\n\r\n        debounceTimer = setTimeout(() => {\r\n            debounceTimer = null;\r\n            if (!immediate) {\r\n                func.apply(context, args);\r\n            }\r\n        }, delay);\r\n\r\n        if (callNow) {\r\n            func.apply(context, args);\r\n        }\r\n    };\r\n}\r\n","export const throttle = (func: Function, delay: number, immediate: boolean = false) => {\r\n    let lastExecuted: number | null = null;\r\n    let timeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\n    return function (this: unknown, ...args: any[]) {\r\n        const context = this;\r\n        const now = performance.now();\r\n\r\n        if (lastExecuted === null && immediate) {\r\n            lastExecuted = now;\r\n            func.apply(context, args);\r\n            return;\r\n        }\r\n\r\n        const remainingTime = delay - (now - (lastExecuted || 0));\r\n\r\n        if (remainingTime <= 0 || lastExecuted === null) {\r\n            clearTimeout(timeout!);\r\n            timeout = null;\r\n            lastExecuted = now;\r\n            func.apply(context, args);\r\n        } else if (!timeout) {\r\n            timeout = setTimeout(() => {\r\n                lastExecuted = performance.now();\r\n                timeout = null;\r\n                func.apply(context, args);\r\n            }, remainingTime);\r\n        }\r\n    };\r\n};\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAO,SAAS,SAAS,MAAgB,OAAe,YAAqB,OAAO;AAChF,MAAI;AAEJ,SAAO,YAA4B,MAAa;AAC5C,UAAM,UAAU;AAEhB,QAAI,eAAe;AACf,mBAAa,aAAa;AAAA,IAC9B;AAEA,UAAM,UAAU,aAAa,CAAC;AAE9B,oBAAgB,WAAW,MAAM;AAC7B,sBAAgB;AAChB,UAAI,CAAC,WAAW;AACZ,aAAK,MAAM,SAAS,IAAI;AAAA,MAC5B;AAAA,IACJ,GAAG,KAAK;AAER,QAAI,SAAS;AACT,WAAK,MAAM,SAAS,IAAI;AAAA,IAC5B;AAAA,EACJ;AACJ;;;ACvBO,IAAM,WAAW,CAAC,MAAgB,OAAe,YAAqB,UAAU;AACnF,MAAI,eAA8B;AAClC,MAAI,UAAgD;AAEpD,SAAO,YAA4B,MAAa;AAC5C,UAAM,UAAU;AAChB,UAAM,MAAM,YAAY,IAAI;AAE5B,QAAI,iBAAiB,QAAQ,WAAW;AACpC,qBAAe;AACf,WAAK,MAAM,SAAS,IAAI;AACxB;AAAA,IACJ;AAEA,UAAM,gBAAgB,SAAS,OAAO,gBAAgB;AAEtD,QAAI,iBAAiB,KAAK,iBAAiB,MAAM;AAC7C,mBAAa,OAAQ;AACrB,gBAAU;AACV,qBAAe;AACf,WAAK,MAAM,SAAS,IAAI;AAAA,IAC5B,WAAW,CAAC,SAAS;AACjB,gBAAU,WAAW,MAAM;AACvB,uBAAe,YAAY,IAAI;AAC/B,kBAAU;AACV,aAAK,MAAM,SAAS,IAAI;AAAA,MAC5B,GAAG,aAAa;AAAA,IACpB;AAAA,EACJ;AACJ;","names":[]}